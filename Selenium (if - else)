from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
import time

webTest = webdriver.Chrome()
webTest.get("https://exe.ua/")
print("Page is open")

def clear_input(element):
    element.send_keys(Keys.CONTROL, 'a')  # –≤—ã–¥–µ–ª—è–µ–º –≤—Å—ë
    element.send_keys(Keys.DELETE)         # —É–¥–∞–ª—è–µ–º

# –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞
items = ["–ù–æ—É—Ç–±—É–∫", "–Ω–∞—É—à–Ω–∏–∫–∏", "–Ω–æ–∂–Ω–∏—Ü—ã", "—Å—Ç—É–ª", "–¢–µ–ª–µ–≤–∏–∑–æ—Ä"]
# elem —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–¥—É–º–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–∏–º —Å—É—Ç—å 
for elem in items:
    # –ù–∞—Ö–æ–¥–∏–º –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞
    search = webTest.find_element(By.XPATH, "//*[@id='search_query']")
    clear_input(search)
    search.send_keys(elem)
    search.send_keys(Keys.ENTER)

    time.sleep(2)  # –∂–¥—ë–º –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

    try:
        # –ë–µ—Ä—ë–º –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
        product_name = webTest.find_element(By.XPATH, "//h5/a/span").text
        print(f"üîé –ó–∞–ø—Ä–æ—Å: {elem} | –ù–∞–π–¥–µ–Ω–æ: {product_name}")

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ if-else
        if elem.lower() in product_name.lower():
            print("‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–ø—Ä–æ—Å—É")
        else:
            print("‚ùå –ù–∞–∑–≤–∞–Ω–∏–µ –ù–ï —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–ø—Ä–æ—Å—É")

    except:
        print(f"‚ùå –ü–æ –∑–∞–ø—Ä–æ—Å—É '{elem}' —Ç–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω")

    print("-" * 40)

time.sleep(2)
print("Page is close")
webTest.quit()
